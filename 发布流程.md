#开发生产准备

##创建简单WEB页面
https://juejin.cn/post/6997962146902442020#heading-3
https://blog.csdn.net/wpw2000/article/details/113450048
https://blog.csdn.net/TGFXK/article/details/124468807

##环境隔离
开发环境、测试环境、预发环境、线上（生产）环境

可以通过设置不同的配置文件、使用虚拟机、利用容器化技术(如Docker)来实现环境隔离。此外，还可以创建独立的数据库和存储环境，以确保开发人员不会误操作生产数据。

###预发布
https://juejin.cn/post/7137963558528090119
直接接触，这是运维人员保障上线质量的最后检查，运维标准也基本等同于生产环境。开发环境中研发人员有时会根据自己需要调整系统参数，如果release的时候仅仅交付了代码并没有指明系统参数修改，这时很容易出问题。
Maven环境隔离
https://juejin.cn/post/6844903875678470158
https://blog.csdn.net/QH_JAVA/article/details/53259412
新建maven项目
https://blog.csdn.net/erlian1992/article/details/53942096


web项目的预发布环境，一般是单独部署一个代码节点，连接的是生产环境的资源，比如DB，Cache，队列等。通过地址参数，cookie，请求头参数，vpn等方式，让测试人员可以接入这个特定的环境，做正式发布前的整体回归测试。然后还可以在负载均衡层面，接入小部分真实用户流量，观察性能变动和用户反馈，可以确定是否存在隐藏的性能问题和没有测试出来的bug。

预发布环境和生产环境：
1）预发环境中新功能为最新代码，其他功能代码和生产环境一致。
2）把预发布环境的访问域名设置成和线上环境的不一样，通过配置host来访问预发布环境。
3）中间件版本需要保持严格的一致（代码版本、数据库版本、中间件版本、依赖库/系统等版本、容器版本）
4）线上数据和预发需要的数据不能互相影响。预发布环境一般会连接生产环境的数据库，测试时要注意，以免产生脏数据，影响生产环境的使用。
5）预发布环境可以安装在生产环境同一个物理机上。

###上线
静态网页文件托管（默认CDN）
https://www.bilibili.com/video/BV18a4y1Y7e9?p=7&vd_source=97cfd40444b798b8f268faf7fc3dd004
1. 域名 DNS解析 
2. 服务器存放网站代码文件、数据库，实体的5000起步
性能：十几到几百人，最低配置基本能满足
地域：可以买附近的 CDN负载均衡服务器可以加速访问
带宽：影响速度可以用CDN，把大文件放到别的云存储上
IP：最好有独立公网IO，可以买云服务上的
云服务器 虚拟主机
centos操作系统
1. 备案（服务器供应商提供）


##技术选型
https://blog.csdn.net/Listron/article/details/115293172
https://cloud.tencent.com/developer/article/1598087
spring mvc+mybatis更灵活
SSH(struts核心控制器+spring持久层java Bean对象管理池+hibernate数据库连接映射池)
Hibernate有自己的日志统计功能，而MyBatis需要使用Log4j实现。MyBatis缓存特性相对Hibernate更高。
* 数据层：mybatis，负责和数据库进行连接，负责SQL的处理，以及将查询到的数据映射成指定的java对象。
* API层：spring mvc，Struts（J2EE）负责根据不同的API请求来调用程序中不同的处理方法，负责将调用者传入的数据映射成java对象，也负责处理程序返回给客户端的响应数据格式等
* 业务层：spring，简化代码复杂度，控制反转和依赖注入
* 外加重要的：spring boot，进一步简化基于 spring 框架的项目的构建工具。
  
* 消息队列
基于日志设计的**Kafka**，重事务的RabbitMQ。对消息丢失不是特别敏感的话，选择Kafka可以获得更高的性能
* 文件存储
Hadoop 的 HDFS 是目前最常用的分布式文件存储方案。除此之外，还有一个开源的轻量级分布式文件系统——**FastDFS**，可以解决大数据量存储和负载均衡等问题。特别适合以中小文件（建议范围：4KB < file_size <500MB）为载体的在线服务，如相册网站、视频网站等等。
* 日志框架
Log4j+SLF4J ； LogBack。
* WEB服务器组件 Tomcat
* 服务器Tomcat（JAVA） Apache（支持所有语言） Nginx(python)
* 数据库Mysql 缓存Memcache 
* 1MB以下小文件Hadoop、Hadoop
* 几百MB大文件，海量日志数据 Hadoop Hbase


#实战演练
搭建一个基础工程，实现网站可访问，数据存储和发送网络请求等，学习怎么设计接口，信息加密，网络安全


##软件配置
JDK17-20
TOMCAT8-10
WEB服务器Apache（静态HTML）+ JAVA应用服务器Tomcat（动态JSV、Servlet）
IIS+ASP
https://blog.csdn.net/m0_45406092/article/details/114035427

##服务器
Web服务器和数据库服务器都是企业最常见的应用。应用程序要求CPU强，数据库服务器要求内存大
###Web服务器
其实web服务器是一个性能追求性服务器，对web服务器配置的要求主要取决于web的访问量，具体安装何种web应用，Apache或IIS，对服务器的硬件配置影响不大。以每秒200个用户并发访问量为例，推荐服务器HP DL 160 Gen9 1U机架式服务器，配置为：Intel Xeon E5-2609 V3*1，16G内存，3*600G 10K SAS硬盘，双端口1GB网卡，1+1冗余电源。
云服务器4核CPU/8G内存/8M公网带宽	APP、视频、购物类网站，ERP系统，大数据及实时在线或离线分析、深度学习、批量计算、视频编码等
https://www.zhihu.com/question/26708830?utm_id=0

###数据库服务器
数据库服务是数据读取写入密集型应用，对服务器的内存资源和磁盘性能要比较高，CPU要求其次，如果对数据库可用性要求级别比较高，推荐使用数据库集群方案。以普通ERP数据库为例，用户为200人，数据库大小约100G，推荐配置HP DL380 Gen9服务器，配置：Intel Xeon E5-2620 V3*1，32G内存，4*600G 10K SAS硬盘，标准千兆网卡，1+1冗余电源。
云服务器：担心安全性，
本地：无需网络，后期需要专人维护，可能出现硬件损坏数据丢失
https://zhuanlan.zhihu.com/p/139712574




###PPT汇报
本周我主要完成了以下工作：

软件技术选型：根据项目需求和团队技术背景，我们最终选择了XXX技术作为开发工具和框架。为确保选型的正确性，我还对其他几个备选方案进行了比较和评估。
主要业务逻辑梳理：与同事梳理了项目的主要业务流程和逻辑，对功能进行了分解。通过讨论和协作，我们将业务逻辑拆分为多个相对独立的功能点，这有助于我们更好地理解需求和规划后续的开发工作。
功能分解：在对业务逻辑进行梳理的基础上，我还对每个功能模块进行了分解，并确定了各个模块之间的依赖关系。这有助于我们更好地规划开发计划和分配任务。

##备注
算子开发
算子代码实现：算子计算逻辑及调度的实现。
算子原型定义规定了在昇腾AI处理器上可运行算子的约束，主要体现算子的数学含义，包含定义算子输入、输出、属性和取值范围，基本参数的校验和shape的推导
算子工程编译部署：编译自定义算子工程，生成自定义算子安装包并进行自定义算子包的安装，将自定义算子部署到算子库（OPP）。
算子测试：将自定义算子加载到网络模型中进行运行验证。

展示层：
负责用户界面设计，如登录页面、开发页面 等
业务层：
负责业务逻辑处理，如数据管理、模型运行等
数据层：
负责完成数据访问，如增删改查，日志记录等
存储层：
负责数据的存储，如MySQL、缓存Memcache等


外协
JAVA后端
关联百亿级神经元类脑计算机项目，涉及服务器搭建、数据库设计及后端代码编程、测试工作，为计算任务和应用的快速开发提供支撑。参与技术选型、架构设计，熟悉SSH.SSM框架及REST API接口开发

软件开发
工具链集成需求关联百亿级神经元类脑计算机项目，涉及模型构建、编译映射及模拟的开发工具链集成，并提供运行环境的统一管理。